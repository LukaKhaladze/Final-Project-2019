require(["jquery","ajs/pkg"],function(a,b){var $=a;define("patron.v2.layer/fines/Documents",["jquery","toolkit/b-frame-layer/b-frame-layer","patron.v2/flags/flags","ajs/pkg"],function($,a,b,c){"use strict";var d=a.extend({template:"pages/lego"});var e=b.get("fines");var f=null;d.open=function(a){if(!f){f=$("<div>").appendTo("body")}a=a||{};var b="/fines/documents";if(a.getParams){b+="?"+c.toQuery(a.getParams)}var g=new d({origin:window.location.protocol+"//"+window.location.host,data:{src:b}});g.onMessage(function(b){try{var c=JSON.parse(b.data);switch(c.type){case"GO_TO":$.event.trigger("ui-abstract-action",{chain:["fines","documents","inbox"]});window.location=c.url;break;case"HAS_DOCUMENTS":e.save({state:c.has});var d=$('button[data-name="fines-documents"]');if(c.has){d.find(".js-has").show();d.find(".js-has-not").hide()}else{d.find(".js-has").hide();d.find(".js-has-not").show()}break;case"CLOSE":if(a.onClose){a.onClose()}break}}catch(a){}});g.setElement(f);g.show();g.initInner();g.setWidth(500);g.setHeight(400);$.event.trigger("ui-abstract-action",{chain:["fines","documents","show"]})};return d});define("mail/actions/PasswordStrength",function(require){"use strict";var a=require("Action");var b=require("RPC");var c=require("Promise");var d=a.extend({url:{signup:"utils/password/strength",change:"user/password/strength"},reasons:["like_current_password","like_dictionary_word","like_username","like_firstname","like_lastname","like_nickname","like_birthdate","like_city","like_phone","like_secret_question","weak","invalid","only_digits"],grades:4,gradesName:{INITIAL:1,LOW:2,MIDDLE:3,HIGH:4},operation:function a(d){var e=d.password;if(!e){return c.reject({password:"required"})}var f=d.type;var g=this.url[f];if(!g){g=this.url.signup}return b.call(g,d).then(this._processResponse.bind(this))},_processResponse:function(a){var b=a.body||{};var c=b.reasons||[];var d=b.warning_reasons||[];return{reasons:c,warningReasons:d}}});a.register("mail.PasswordStrength",d);d.version="0.4.0";return d});define("mail/actions/PasswordChange",function(require){"use strict";var a=require("Action"),b=require("Promise"),c=require("RPC");var d=a.extend({urls:{change:"user/password/change"},required:{change:["password","redirect_uri"]},_processResponse:function(a){return a.body},operation:function a(d){var e="change";var f=this.required[e];var g={};var h=false;f.forEach(function(a){if(typeof d[a]==="undefined"){g[a]="required";h=true}});if(h){return b.reject(g)}if(d.more_password_strength){d.more_password_strength="1"}var i=this.urls[e];return c.call(i,d).then(this._processResponse.bind(this))}});a.register("mail.PasswordChange",d);return d});define("mail/UserSecurity",["RPCModel"],function(a){"use strict";var b=a.extend({className:"mail.UserSecurity",url:"golang/user/security",defaults:{id:null,password_changed:0,password_required:false,need_change_password:false,restore:null,phones:null},isDataFully:function(){return this.is("restore")}});return b});define("patron.build/2Promo",["2kit","2promo","react.env","patron.v2.layer/payments/zhkh","patron.v2.layer/fines/Documents","mail/actions/PasswordStrength","mail/actions/PasswordChange","mail/UserSecurity"],function(a,b){return b});window.$=window.jQuery=a});